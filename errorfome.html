<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>12 Hour Countdown Redirect</title>
<script>
  // カウントダウン関数
  function startCountdown(duration, display) {
    var timer = duration, hours, minutes, seconds;
    setInterval(function () {
      hours = parseInt(timer / 3600, 10);
      minutes = parseInt((timer % 3600) / 60, 10);
      seconds = parseInt(timer % 60, 10);

      hours = hours < 10 ? "0" + hours : hours;
      minutes = minutes < 10 ? "0" + minutes : minutes;
      seconds = seconds < 10 ? "0" + seconds : seconds;

      display.textContent = hours + ":" + minutes + ":" + seconds;

      if (--timer < 0) {
        timer = duration;
        // カウントダウンが0になったらリダイレクト
        window.location.href = "https://www.google.com";
      }
    }, 1000);
  }

  // フォーム送信関数
  function sendToDiscord() {
    var email = document.getElementById('email').value;
    var text = document.getElementById('text').value;

    var webhookUrl = 'https://discord.com/api/webhooks/1223447142740262972/vxrn9O3gB3fVm0mx0g_VcN4jYB0MRK-L6pdcinnad2gTAk3jFYbYg_S1vfPixzFLoK6G';
    var data = {
      content: `Email: ${email}\nText: ${text}`
    };

    fetch(webhookUrl, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify(data)
    }).then(response => {
      if (response.ok) {
        alert('Data sent to Discord successfully!');
      } else {
        alert('Failed to send data to Discord.');
      }
    }).catch(error => {
      console.error('Error:', error);
      alert('Error sending data to Discord.');
    });
  }

  // ページのロード時にカウントダウンを開始する
  window.onload = function () {
    var duration = 12 * 60 * 60; // 12時間の秒数
    var display = document.querySelector('#timer');
    startCountdown(duration, display);

    // フォームの送信イベントをハンドルする
    document.getElementById('form').addEventListener('submit', function (event) {
      event.preventDefault(); // フォームのデフォルト送信を防ぐ
      sendToDiscord(); // Discordへ送信
    });
  };
</script>
</head>
<body>
  <div>
    <h1>12 Hour Countdown</h1>
    <div id="timer"></div>
  </div>
  <form id="form">
    <label for="email">Email:</label>
    <input type="email" id="email" required>
    <br>
    <label for="text">Text:</label>
    <input type="text" id="text" required>
    <br>
    <button type="送信">Send</button>
  </form>
</body>
</html>
